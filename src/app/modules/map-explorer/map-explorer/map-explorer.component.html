<mgl-map
  [style]="style"
  [zoom]="[3]"
  style="width:100%;height:800px;"
  [center]="[3.5, 29]"
  [cursorStyle]="cursorStyle"
  (load)="load($event)"
>
  <mgl-geojson-source id="states" data="https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_110m_admin_1_states_provinces_shp.geojson">
  </mgl-geojson-source>
  <mgl-layer
    id="state-fills"
    type="fill"
    source="states"
    [paint]="{
      'fill-color': '#627BC1',
      'fill-opacity': 0.5
    }"
    (mouseMove)="activateHoverOn($event)"
    (mouseLeave)="disableHover()"
    (click)="onClick($event)"
  >
  </mgl-layer>
  <mgl-layer
    id="state-borders"
    type="line"
    source="states"
    [paint]="{
      'line-color': '#627BC1',
      'line-width': 2
    }"
  >
  </mgl-layer>
  <mgl-layer
    id="state-fills-hover"
    type="fill"
    source="states"
    [paint]="{
      'fill-color': '#627BC1',
      'fill-opacity': 1
    }"
    [filter]="hoverFilter"
  >
  </mgl-layer>

  <mgl-popup *ngIf="selectedLngLat" [lngLat]="selectedLngLat">
    <span>
      <mat-form-field>
        <input
          matInput
          placeholder="label"
          [ngModel]="selectedElement?.NAME_2"
        />
      </mat-form-field>
    </span>
  </mgl-popup>
</mgl-map>

<canvas id="deck-canvas"></canvas>
